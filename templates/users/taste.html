{% extends 'base.html' %}

{% block content %}

<div class="title_taste">
    <h2>알맞은 식성향으로<br>로컬 픽이 추천해드립니다!</h2>
</div>

<div class="taste">
     <div class="label-container">
        <div class="label">1단계</div>
        <div class="label">2단계</div>
        <div class="label">3단계</div>
        <div class="label">4단계</div>
        <div class="label">5단계</div>
    </div>
    <img id="taste_img_bar" src="/static/images/spicy.png" alt="매워">
    <label><b>매운맛</b></label><input id="spicy" type="range" min="1" max="6" step="0" value="0">
</div>
<div class="taste">
     <div class="label-container">
        <div class="label">1단계</div>
        <div class="label">2단계</div>
        <div class="label">3단계</div>
        <div class="label">4단계</div>
        <div class="label">5단계</div>
    </div>
     <img id="taste_img_bar" src="/static/images/salt.png" alt="짜">
    <label><b>&nbsp;&nbsp;짠맛&nbsp;</b></label><input id="salt" type="range" min="1" max="6" step="0" value="0">
</div>
<div class="taste">
     <div class="label-container">
        <div class="label">1단계</div>
        <div class="label">2단계</div>
        <div class="label">3단계</div>
        <div class="label">4단계</div>
        <div class="label">5단계</div>
    </div>
    <img id="taste_img_bar" src="/static/images/sweet.png" alt="달아">
    <label><b>&nbsp;&nbsp;단맛&nbsp;</b></label><input id="sweet" type="range" min="1" max="6" step="0" value="0">
</div>
<div class="taste">
     <div class="label-container">
        <div class="label">1단계</div>
        <div class="label">2단계</div>
        <div class="label">3단계</div>
        <div class="label">4단계</div>
        <div class="label">5단계</div>
    </div>
    <img id="taste_img_bar" src="/static/images/amount.png" alt="양">
    <label><b>식사량</b></label><input id="amount" type="range" min="1" max="6" step="0" value="0">
</div>

<div class="okay">
    <button id="taste_btn_okay" type="button" onclick="okay()"><b>완 료</b></button>
</div>

</body>
<script>
    $('#taste_btn_okay').click(function () {

        let spicy = $('#spicy').val();
        let salt = $('#salt').val();
        let sweet = $('#sweet').val();
        let amount = $('#amount').val();

        $.ajax({
            url: "#",
            dataType: "json",
            data: {
                'csrfmiddlewaretoken': "{{ csrf_token }}",
                spicy: spicy,
                salt: salt,
                sweet: sweet,
                amount: amount,
            },
            method: "POST",
            success: function (data) {
                console.log("성공");
                location.replace("{% url 'users:login' %}");
            },

            error: function (request, status, error) {
                console.log("에러");
                console.log(error)
            },
            complete: function () {
                console.log("성공");

            }
        })
    });
</script>
{% endblock %}